syntax = "proto3";
package chat;
option go_package = "github.com/komadiina/spelltext/proto/proto/chat;chat";

import "health/health.proto";

message ChatMessage {
  string sender = 1;
  string message = 2;
  uint64 timestamp = 3;
}

message SendChatMessageRequest {
  string sender = 1;
  string message = 2;
}

message SendChatMessageResponse {
  string sender = 1;
  uint64 timestamp = 2;
  bool success = 3;
}

message JoinChatroomMessageRequest {
  string username = 1;
}

message JoinChatroomMessageResponse {
  string username = 1;
  bool success = 2;
}

message LeaveChatroomMessageRequest {
  string username = 1;
  bool success = 2;
}

message LeaveChatroomMessageResponse {
  string username = 1;
  bool success = 2;
}


message PingRequest {}
message PingResponse {}

service Chat {
  rpc Check(health.HealthCheckRequest) returns (health.HealthCheckResponse);
  rpc SendChatMessage (SendChatMessageRequest) returns (SendChatMessageResponse);
  rpc JoinChatroom (JoinChatroomMessageRequest) returns (JoinChatroomMessageResponse);
  rpc LeaveChatroom (LeaveChatroomMessageRequest) returns (LeaveChatroomMessageResponse);
}
