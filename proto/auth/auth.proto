syntax = "proto3";
package auth;
option go_package = "github.com/komadiina/spelltext/proto/proto/auth;auth";

import "repo/repo.proto";

message LoginRequest {
    string username     = 1;
    string passwordHash = 2;
}

message LoginResponse {
    bool success             = 1;
    repo.User user           = 2;
    repo.Character character = 3;
}

message RegisterRequest {
    string username             = 1;
    string email                = 2;
    string password             = 3;
    string passwordConfirmed    = 4;
}

message RegisterResponse {
    bool success    = 1;
    repo.User user  = 2;
}

message PingRequest {}
message PingResponse {}

service Auth {
    rpc Ping(PingRequest) returns (PingResponse);
    rpc Login(LoginRequest) returns (LoginResponse);
    rpc Register(RegisterRequest) returns (RegisterResponse);
}